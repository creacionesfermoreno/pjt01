
@{
    /**/

    /**/

    ViewBag.Title = "gastos";
    Layout = "~/Views/Shared/__LayoutAppFitPlataformaFit.cshtml";
}


<link href="@Url.Content("~/Content/cssKendo/kendo.common.min.css")" rel="stylesheet" />
<link href="@Url.Content("~/Content/cssKendo/kendo.dataviz.default.min.css")" rel="stylesheet" />
<link href="@Url.Content("~/Content/cssKendo/kendo.dataviz.min.css")" rel="stylesheet" />
<link href="@Url.Content("~/Content/cssKendo/kendo.default.min.css")" rel="stylesheet" />


<style>
    .k-block, .k-button, .k-textbox, .k-drag-clue, .k-touch-scrollbar, .k-window, .k-window-titleless .k-window-content, .k-window-action, .k-inline-block, .k-grid .k-filter-options, .k-grouping-header .k-group-indicator, .k-autocomplete, .k-multiselect, .k-combobox, .k-dropdown, .k-dropdown-wrap, .k-datepicker, .k-timepicker, .k-colorpicker, .k-datetimepicker, .k-notification, .k-numerictextbox, .k-picker-wrap, .k-numeric-wrap, .k-colorpicker, .k-list-container, .k-calendar-container, .k-calendar td, .k-calendar .k-link, .k-treeview .k-in, .k-editor-inline, .k-tooltip, .k-tile, .k-slider-track, .k-slider-selection, .k-upload {
        border-radius: 3px;
    }

    .modal-body {
    }

    .modal-backdrop {
        display: none;
    }

    .card-body {
        margin-top: -5px;
        margin-bottom: -5px;
    }

    .k-dropdown .k-input, .k-selectbox .k-input {
        /* background: none; */
        background-color: #fff;
        font-weight: bold;
    }

    .k-dropdown-wrap .k-input, .k-picker-wrap .k-input, .k-numeric-wrap .k-input {
        border-radius: 3px 0 0 3px;
        font-weight: bold;
    }

    .k-autocomplete {
        background-image: url(textures/highlight.png);
        background-image: none,linear-gradient(to bottom,#e2e1e199 0,#e2e1e199 100%);
        background-position: 50% 50%;
        background-color: #e3e3e3;
        border: 1px solid #cac9c9;
        color: #fff;
    }

    .k-header, .k-grid-header, .k-toolbar, .k-dropdown-wrap, .k-picker-wrap, .k-numeric-wrap, .k-grouping-header, .k-pager-wrap, .k-textbox, .k-button, .k-progressbar, .k-draghandle, .k-state-highlight, .k-tabstrip-items .k-item, .k-panelbar .k-tabstrip-items .k-item, .km-pane-wrapper > .km-pane > .km-view > .km-content {
        background-image: url(textures/highlight.png);
        background-image: none,-webkit-linear-gradient(top,#0075ff 0,#0075ff 100%);
        background-image: none,-moz-linear-gradient(top,#0075ff 0,#0075ff 100%);
        background-image: none,-o-linear-gradient(top,#0075ff 0,#0075ff 100%);
        background-image: none,linear-gradient(to bottom,#0075ff 0,#0075ff 100%);
        background-position: 50% 50%;
        background-color: #e3e3e3;
        color: #fff;
    }

        .k-header, .k-grid-header-wrap, .k-grid .k-grouping-header, .k-grid-header, .k-pager-wrap, .k-pager-wrap .k-textbox, .k-pager-wrap .k-link, .k-grouping-header .k-group-indicator, .k-gantt-toolbar .k-state-default {
            border-color: #e8eaee;
            background-color: #0075ff;
            color: #fff;
        }

    .modal {
        display: none;
        background-color: rgba(0, 0, 0, 0.77);
    }

    .k-block, .k-header, .k-grid-header, .k-toolbar, .k-grouping-header, .k-pager-wrap, .k-button, .k-draghandle, .k-treemap-tile, html .km-pane-wrapper .k-header {
        background-color: #0075ff;
        color: #fff;
    }

        .k-grid-header th.k-header > .k-link {
            display: block;
            min-height: 18px;
            line-height: 18px;
            margin: -0.5em -0.6em -0.4em -0.6em;
            padding: .1em .1em .1em .1em;
            overflow: hidden;
            text-overflow: ellipsis;
            color: #fff;
        }

        .k-grid-header table, .k-grid-content table, .k-grid-footer table, .k-grid-content-locked > table {
            table-layout: fixed;
        }



        .k-grid-toolbar:first-child, .k-grouping-header + .k-grid-toolbar {
            border-width: 0 0 1px;
            border-radius: 0px;
            background-color: #d7eafa;
            height: 10px;
        }

    .k-block, .k-header, .k-grid-header, .k-toolbar, .k-grouping-header, .k-pager-wrap, .k-button, .k-draghandle, .k-treemap-tile, html .km-pane-wrapper .k-header {
        background-color: rgba(227, 227, 227, 0);
    }

    #txtFechaInicioProcFreezing .k-header, .k-grid-header, .k-toolbar, .k-dropdown-wrap, .k-picker-wrap, .k-numeric-wrap, .k-grouping-header, .k-pager-wrap, .k-textbox, .k-button, .k-progressbar, .k-draghandle, .k-autocomplete, .k-state-highlight, .k-tabstrip-items .k-item, .k-panelbar .k-tabstrip-items .k-item, .km-pane-wrapper > .km-pane > .km-view > .km-content {
        background-image: url(textures/highlight.png);
        background-image: none,-webkit-linear-gradient(top,#0075ff 0,#0075ff 100%);
        background-image: none,-moz-linear-gradient(top,#0075ff 0,#0075ff 100%);
        background-image: none,-o-linear-gradient(top,#0075ff 0,#0075ff 100%);
        background-image: none,linear-gradient(to bottom,#0075ff 0,#0075ff 100%);
        background-position: 50% 50%;
        background-color: #ffffff;
    }

    .k-state-selected {
        color: #FFFFFF;
        background-color: #0075ff;
        border-color: #0075ff;
    }


    .k-grid tr td {
        border-bottom: 1px solid #eaeaea;
        border-left: 1px solid #eaeaea;
        border-style: solid;
    }

    tr {
        height: 16px;
        font-size: 13px;
    }

    .k-textbox, .k-autocomplete, .k-dropdown-wrap, .k-picker-wrap, .k-numeric-wrap {
        border-width: 1px;
        border-style: solid;
        padding: 0 1.9em 0 0;
        font-weight: bold;
    }

    .k-state-focused.k-state-selected, .k-list > .k-state-focused.k-state-selected, .k-listview > .k-state-focused.k-state-selected, td.k-state-focused.k-state-selected {
        webkit-box-shadow: inset 0 0 3px 4px #0075ff;
        box-shadow: inset 0 0 3px 4px #0075ff;
    }

    .k-state-selected, .k-state-selected:link, .k-state-selected:visited, .k-list > .k-state-selected, .k-list > .k-state-highlight, .k-panel > .k-state-selected, .k-ghost-splitbar-vertical, .k-ghost-splitbar-horizontal, .k-draghandle.k-state-selected:hover, .k-scheduler .k-scheduler-toolbar .k-state-selected, .k-scheduler .k-today.k-state-selected, .k-marquee-color {
        color: #fff;
        background-color: #0075ff;
        border-color: #0075ff;
    }

    /** SPINNER CREATION **/
    .loader {
        position: relative;
        text-align: center;
        margin: 15px auto 35px auto;
        z-index: 9999;
        display: block;
        width: 80px;
        height: 80px;
        border: 10px solid rgba(0, 0, 0, .3);
        border-radius: 50%;
        border-top-color: #000;
        animation: spin 1s ease-in-out infinite;
        -webkit-animation: spin 1s ease-in-out infinite;
    }


    /** MODAL STYLING **/
    .modal-content {
        border-radius: 0px;
        box-shadow: 0 0 20px 8px rgba(0, 0, 0, 0.7);
    }


    [dir=ltr] .modal-lg, [dir=ltr] .modal-xl {
        max-width: 950px;
    }

    a {
        color: transparent;
        text-decoration: none;
    }

    .small-box {
        border-radius: .25rem;
        box-shadow: 0 0 1px rgba(0,0,0,.125), 0 1px 3px rgba(0,0,0,.2);
        display: block;
        margin-bottom: 20px;
        position: relative;
    }

        .small-box > .inner {
            padding: 10px;
        }

        .small-box h3, .small-box p {
            z-index: 5;
        }

        .small-box h3 {
            font-size: 2.2rem;
            font-weight: 700;
            margin: 0 0 10px 0;
            padding: 0;
            white-space: nowrap;
        }

        .small-box p {
            font-size: 1rem;
        }

        .small-box .icon {
            color: rgba(0,0,0,.15);
            z-index: 0;
        }

        .small-box > .small-box-footer {
            background: rgba(0,0,0,.1);
            color: rgba(255,255,255,.8);
            display: block;
            padding: 3px 0;
            position: relative;
            text-align: center;
            text-decoration: none;
            z-index: 10;
        }

        .small-box .icon > i.fa, .small-box .icon > i.fab, .small-box .icon > i.far, .small-box .icon > i.fas, .small-box .icon > i.glyphicon, .small-box .icon > i.ion {
            font-size: 70px;
            top: 20px;
        }

        .small-box .icon > i {
            font-size: 90px;
            position: absolute;
            right: 15px;
            top: 15px;
            transition: all .3s linear;
        }

        .small-box:hover {
            text-decoration: none;
        }

    .bg-gradient-success2 {
        background: #28a745 linear-gradient(180deg,#48b461,#28a745) repeat-x !important;
    }

    .bg-gradient-success2 {
        color: #fff;
    }

    .bg-danger2, .bg-danger2 > a {
        color: #fff !important;
    }

    .bg-danger2 {
        background-color: #dc3545 !important;
    }

    .bg-info2 {
        background-color: #17a2b8 !important;
    }

        .bg-info2, .bg-info2 > a {
            color: #fff !important;
        }

    .small-box:hover .icon > i, .small-box:hover .icon > i.fa, .small-box:hover .icon > i.fab, .small-box:hover .icon > i.fad, .small-box:hover .icon > i.fal, .small-box:hover .icon > i.far, .small-box:hover .icon > i.fas, .small-box:hover .icon > i.ion {
        transform: scale(1.1);
    }
</style>

<div class="page__header page__header-nav mb-0">
    <div class="container-fluid page__container">
        <div class="navbar navbar-secondary navbar-light navbar-expand-sm p-0 d-none d-md-flex" id="secondaryNavbar">
            <ul class="nav navbar-nav">
                <li class="nav-item">
                    <button style="color: #ffffff;background-color: #ff0200;font-size: 1.0rem;border: 0px #ff0200 solid;height: 33px;padding: 5px;cursor:pointer;" class="navbar-toggler navbar-toggler-custom d-flex mr-navbar" type="button" data-toggle="sidebar">
                        Operaciones
                    </button>
                </li>
                <li class="nav-item" data-controlmodulo="45833cdd-55db-4a67-a879-f1ae9353f8bf">
                    <a href="@Url.Action("checking","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})" class="nav-link">Clientes</a>
                </li>
                <li class="nav-item" data-controlmodulo="9e69cfd8-b063-44df-a7f2-a3a10d1eb899" style="display:none;">
                    <a class="nav-link " href="@Url.Action("posfitness","pos",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Punto de venta</a>
                </li>
                <li class="nav-item" data-controlmodulo="7611dfbe-186f-4abe-8e2e-e64ad7281728" style="display:none;">
                    <a class="nav-link" href="@Url.Action("caja","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Caja</a>
                </li>
                <li class="nav-item" data-controlmodulo="93c0d848-83aa-45eb-a83a-ded00a6b6e23" style="display:none;">
                    <a class="nav-link" href="@Url.Action("nutricion","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Medidas y Nutrición</a>
                </li>
                <li class="nav-item" data-controlmodulo="947dc11f-3e14-4fe7-bedc-ae3d81219bee" style="display:none;">
                    <a class="nav-link" href="@Url.Action("Index","inventariofit",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Inventario</a>
                </li>

                <li class="nav-item" data-controlmodulo="39497bd3-94ab-4236-a1d4-4623d854f91e" style="display:none;">
                    <a href="@Url.Action("agendacomercial","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})" class="nav-link">Agenda Comercial</a>
                </li>
                <li class="nav-item" data-controlmodulo="bbc035e6-68ea-4885-917f-005ad3fcfb66" style="display:none;">
                    <a href="@Url.Action("metascomerciales","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})" class="nav-link">Metas</a>
                </li>
                <li class="nav-item" data-controlmodulo="bd61dc23-54d9-4901-9c35-b8d228b3a924" style="display:none;">
                    <a href="@Url.Action("marketing","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})" class="nav-link">Marketing</a>
                </li>
                <li class="nav-item" data-controlmodulo="e1eadd0d-39b3-498d-b09b-9b3b28610b9b" style="display:none;">
                    <a href="@Url.Action("informesfit","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})" class="nav-link">Informes</a>
                </li>
                <li class="nav-item" data-controlmodulo="600dabf4-7dc3-4dc0-a0ba-74b782955e52" style="display:none;">
                    <a class="nav-link" href="@Url.Action("pagospersonal","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Pagos</a>
                </li>

                <li class="nav-item" data-controlmodulo="b1f65597-fd27-46ca-90d0-a0f2f1039ef7" style="display:none;">
                    <a class="nav-link" href="@Url.Action("finanzas","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Finanzas</a>
                </li>

                <li class="nav-item" data-controlmodulo="4c01e8de-9440-4927-a2f2-d6241d925c39" style="display:none;">
                    <a class="nav-link" href="@Url.Action("estadisticas","gestionce",new {id= HttpContext.Current.Request.Cookies["_SubDominio_Business"].Value})">Estadísticas</a>
                </li>

            </ul>
        </div>
    </div>
</div>

<input id="hdFlagPrimeraVesGastos_admin" type="hidden" value="0" />
<input id="hdCodigoTipoEgreso_admin" type="hidden" value="" />
<input id="hdAccionGatos_admin" type="hidden" value="N" />
<input id="txtCodigoEgreso_admin" type="text" class="k-textbox" style="width:100%;height:23px;font-size: 13px;display:none;" />

<div class="container-fluid page__container" style="background-color:#e9ebee;">
    <br />
    <div class="row">
        <div class="col-lg-12">
            <div class="card">
                <div class="card-header card-header-tabs-basic nav" role="tablist" style="background-color: #fff;">
                    <a data-controlmodulo="" style="" href="#divPuntoEquilibrio" id="liPuntoEquilibrio" onclick="" class="active" data-toggle="tab" role="tab" aria-controls="activity_all" aria-selected="true">Agregar gasto</a>
                    <a data-controlmodulo="" style="" href="#divGastosAdmin" id="liGastosAdmin" onclick="" data-toggle="tab" role="tab" aria-controls="activity_all" aria-selected="true">Eliminar gasto</a>
                </div>
                <div class="card-body tab-content" style="background-color:#f5f5f5;">
                    <div class="tab-pane active show fade" id="divPuntoEquilibrio">

                        <div class="row">
                            <div class="col-lg-3">
                                <div class="card">
                                    <div class="card-header card-header-sm d-flex align-items-center" style="background-color:#fff;">
                                        <h4 class="card-header__title flex m-0">PASO 1 : INGRESAR DETALLES DEL GASTO</h4>
                                    </div>
                                    <div class="card-body tab-content">
                                        <div class="button-list">
                                            <button data-controlmodulo="1669f019-0b01-4b66-adf6-f01b7755b2e8" style="display:none;" type="button" class="btn btn-primary btn-sm" id="btnNuevoGasto_admin" title="Nuevo Gasto">Nuevo Gasto</button>
                                            <button data-controlmodulo="1669f019-0b01-4b66-adf6-f01b7755b2e8" style="display:none;" type="button" class="btn btn-primary btn-sm" id="btnGuardarGasto_admin" title="Guardar Gasto">Guardar Gasto</button>
                                        </div>
                                        <div class="tab-pane active show fade" id="activity_all">
                                            <div class="row mg-b-25">
                                                <div class="col-lg-12">
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            Responsable: <input id="ddlGastos_AsesorVentas_admin" value="0" style="width: 100%;font-weight:bold;font-size:11px;" />
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtGasto_ClaveResponsable_admin" placeholder="Escriba contraseña" type="password" class="form-control form-control-prepended" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Clave:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtGasto_fechaGasto" type="text" placeHolder="Inicio" style="width:100%;font-size:12px;" />
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">

                                                            <select id="ddlGastos_TipoComprobante_admin" style="font-size: 11px;font-weight:bold;width:100%;height:25px;">
                                                                <option value="1">Recibo</option>
                                                                <option value="2">Factura</option>
                                                                <option value="3">Boleta</option>
                                                                <option value="4">Recibo x Honorario</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtGasto_NroComprobante_admin" type="text" placeholder="Escriba Nro comprobante" class="form-control form-control-prepended" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Nro Comprobante:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtGasto_ProvededorRZ_admin" type="text" class="form-control form-control-prepended" placeholder="Escriba proveedor" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Provededor:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtGasto_ProvededorRUC_admin" type="text" class="form-control form-control-prepended" placeholder="Escriba RUC" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    RUC:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtGasto_NroOperacion_admin" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Nro Operación:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtSubTotalGasto_admin" value="0.00" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Sub Total:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtIGVGasto_admin" value="0.00" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    IGV:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtMontoGasto_admin" value="0.00" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Total:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">

                                                            <select id="ddlGasto_FormaPago_admin" style="font-size: 11px;font-weight:bold;width:100%;height:25px;" class="k-dropdown" tabindex="6">
                                                                <option value="1">Efectivo</option>
                                                                <option value="2">T. Debito</option>
                                                                <option value="3">T. Credito</option>
                                                                <option value="4">Deposito</option>
                                                                <option value="5">Web</option>
                                                            </select>
                                                        </div>
                                                    </div>
                                                    <div class="form-group mg-t-2">
                                                        <div class="input-group input-group-sm input-group-merge">
                                                            <input id="txtOtrosTributosGasto_admin" value="0.00" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                            <div class="input-group-prepend">
                                                                <div class="input-group-text">
                                                                    Otros Tributos:
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div><!-- col-4 -->

                                            </div><!-- row -->
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="col-lg-9">
                                <div class="card">
                                    <div class="card-header card-header-sm d-flex align-items-center" style="background-color:#fff;">
                                        <h4 class="card-header__title flex m-0">PASO 2: SELECCIONAR TIPO DE GASTO</h4>
                                    </div>
                                    <div class="card-body tab-content">
                                        <div class="tab-pane active show fade" id="activity_all">
                                            <div class="form-group mg-t-2">
                                                <div class="input-group input-group-sm input-group-merge">
                                                    <input id="txtDescripcionGasto_admin" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                    <div class="input-group-prepend">
                                                        <div class="input-group-text">
                                                            Descripción:
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div class="form-group mg-t-2">
                                                <div class="input-group input-group-sm input-group-merge">
                                                    <input id="txtObservacionesGasto_admin" type="text" class="form-control form-control-prepended" placeholder="Escriba Descripción del gasto" style="width:100%;font-weight:bold;">
                                                    <div class="input-group-prepend">
                                                        <div class="input-group-text">
                                                            Observaciones:
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                            <div id="DivTipoEgreso_admin" style="overflow-y:scroll;overflow-x:hidden;height:295px;margin-top:5px;margin:5px 5px 5px 5px;font-size:13px;">
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="tab-pane fade" id="divGastosAdmin">

                        <div class="my-2">
                            <table style="width:100%;" border="0">
                                <tbody>
                                    <tr>
                                        <td style="width:10%;">
                                            <input type="text" id="txtHistorial_FechaDesde_Tab2" placeHolder="Escriba Fecha" style="width:98%;font-size:11px;" class="k-datetime" />
                                        </td>
                                        <td style="width:10%;">
                                            <input type="text" id="txtHistorial_FechaHasta_Tab2" placeHolder="Escriba Fecha" style="width:98%;font-size:11px;" class="k-datetime" />
                                        </td>
                                        <td style="width:5%;">
                                            <button id="" type="button" onclick="uspReporteEgresoRangoFechas_Paginacion()" class="btn btn-primary btn-sm" title="Buscar">Buscar</button>
                                        </td>
                                        <td style="width:75%;">
                                        </td>
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                        <p style="color: #0075ff;font-size:18px;text-align:center;font-weight:bold;">GASTOS ADMINISTRATIVOS</p>
                        <table style="width:100%;">
                            <tr>
                                <td>
                                    <div style="color:#0075ff;font-size: 18px;">
                                        Cantidad: <label id="lblcantidadEgreso">0</label>
                                    </div>
                                </td>
                                <td>
                                    <div style="color:#0075ff;font-size: 18px;">
                                        Total: <label id="lblTotalGasto">0</label>
                                    </div>
                                </td>
                                <td align="right">
                                    <select id="ddlPaginacionEgresos" style="width:60px;"></select>
                                </td>
                            </tr>
                        </table>
                        <div id="gridHistorialEgresos"></div>
                        <br />
                        <p style="color: #0075ff;font-size:18px;text-align:center;font-weight:bold;">GASTOS DE CAJA</p>
                        <table style="width:100%;">
                            <tr>
                                <td>
                                    <div style="color:#0075ff;font-size: 18px;">
                                        Cantidad: <label id="lblcantidadEgresoCaja">0</label>
                                    </div>
                                </td>
                                <td>
                                    <div style="color:#0075ff;font-size: 18px;">
                                        Total: <label id="lblTotalGastoCaja">0</label>
                                    </div>
                                </td>
                                <td align="right">
                                    <select id="ddlPaginacionEgresosCaja" style="width:60px;"></select>
                                </td>
                            </tr>
                        </table>
                        <div id="gridEgresosCaja" style="width:100%;user-select:none;"></div>
                    </div>
                </div>
            </div>
        </div>
    </div>

</div>

<div class="modal fade" id="loadMe" tabindex="-1" role="dialog" aria-labelledby="loadMeLabel">
    <br /><br /><br /><br />
    <div class="modal-dialog modal-sm" role="document">
        <div class="modal-content">
            <div class="modal-body text-center">
                <img src="~/Content/appsfit_img/logoappsfitweb.png" style="width:255px;height:125px;" />
                <div class="loader"></div>
                <div clas="loader-txt">
                    <p>Cargando... <br><br><small>Espere por favor, este proceso puede tardar unos minutos</small></p>
                </div>
            </div>
        </div>
    </div>
</div>


<div id="myModalConfirm" class="modal">
    <div class="modal-dialog" style="width:22%;">
        <div class="modal-content" style="">
            <div class="modal-body">
                <p></p>
                <input type="hidden" value="" id="hdCodigoGasto_Eliminar" />
                <h style="font-size:18px;font-weight:bold;">
                    ¿Estás seguro de eliminar este gasto? <br />
                </h>
                <p></p>
            </div>
            <div class="modal-footer" style="">
                <button id="btnNo" onclick="cerrarModalEliminarGasto();" style="" type="button" class="btn btn-default btn-sm" data-dismiss="modal">No</button>
                <button id="btnSi" onclick="uspEliminarGasto();" type="button" class="btn btn-primary btn-sm" style="">Si</button>
            </div>
        </div>
    </div>
</div>


@section Scripts {
    @System.Web.Optimization.Scripts.Render("~/Scripts/jquery.min.js")

    @System.Web.Optimization.Scripts.Render("~/Scripts/plugins/jsKendo/jquery.min.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/plugins/jsKendo/angular.min.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/plugins/jsKendo/kendo.all.min.js")

    @System.Web.Optimization.Scripts.Render("~/Scripts/plugins/jquery-ui/jquery-ui.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/plugins/jquery-ui/jquery-ui.min.js")

    @System.Web.Optimization.Scripts.Render("~/Resource/UserControl.Helper.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/bootstrap-notify-master/bootstrap-notify.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/bootstrap-notify-master/bootstrap-notify.min.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/jsBootstrap/jquery.bootstrap-growl.js")
    @System.Web.Optimization.Scripts.Render("~/Scripts/maskedinput.js")


    <script type="text/javascript">
        $(document).ready(function () {
            SEGListarPerfilMenu();

            var todayDate = new Date();
            var primerDia = new Date(todayDate.getFullYear(), todayDate.getMonth(), 1);
            var ultimoDia = new Date(todayDate.getFullYear(), todayDate.getMonth() + 1, 0);

            $("#txtHistorial_FechaDesde_Tab2").kendoDatePicker();
            $('#txtHistorial_FechaDesde_Tab2').data("kendoDatePicker").value(primerDia);

            $("#txtHistorial_FechaHasta_Tab2").kendoDatePicker();
            $('#txtHistorial_FechaHasta_Tab2').data("kendoDatePicker").value(ultimoDia);


            $('#btnNuevoGasto_admin').click(function () {
                document.getElementById('btnGuardarGasto_admin').style.display = '';
                $('#txtCodigoEgreso_admin').val('0');
                $('#txtDescripcionGasto_admin').val('');
                $('#txtMontoGasto_admin').val('');
                $('input[name = "orderBoxDivTipoEgreso[]"]').prop('checked', false);
                $('#hdAccionGatos_admin').val('N');
            });

            $('#btnGuardarGasto_admin').click(function () {
                $('#txtCodigoEgreso_admin').val('0');
                $('#hdAccionGatos_admin').val('N');
                if (validadorEgresos_admin()) {
                    uspValidarUsuarioIngresadoDeGasto_admin();
                } else {
                    $.bootstrapGrowl("falta ingresar informacion para poder guardar un gasto.", { type: 'danger', width: 'auto' });
                }
            });

            $('#ddlGastos_TipoComprobante_admin').kendoDropDownList();
            $('#ddlGastos_TipoComprobante_admin').data("kendoDropDownList").select(0);

            $('#ddlGasto_FormaPago_admin').kendoDropDownList();
            $('#ddlGasto_FormaPago_admin').data("kendoDropDownList").select(0);

            var todayDate = new Date();
            $('#txtGasto_fechaGasto').kendoDatePicker();
            $('#txtGasto_fechaGasto').data("kendoDatePicker").value(todayDate);

            ListarTipoEgreso();
            listaAsesoresVentas_Gastos_admin();
        });


        function listaAsesoresVentas_Gastos_admin() {

            $("#ddlGastos_AsesorVentas_admin").kendoDropDownList({
                filter: "startswith",
                dataTextField: "NombreCompleto",
                dataValueField: "NombreCompleto",
                dataSource: {
                    serverFiltering: true,
                    transport: {
                        read: function (options) {
                            var nombre = $('input[aria-owns="ddlGastos_AsesorVentas_admin_listbox"]').val();
                            $.ajax({
                                data: '{"filtro":"' + nombre + '"}',
                                type: "POST",
                                url: "/operacionesfit/SEGListarUsuarioResponsable_Gastos",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (msg) {
                                    options.success(msg);
                                    //var User = $('#hdUsuario').val();
                                    //$('#ddlGastos_AsesorVentas_admin').data("kendoDropDownList").value(User);
                                }
                            });
                        }
                    }
                }
            });

        }

        function uspValidarUsuarioIngresadoDeGasto_admin() {

            var Vendedor = $("#ddlGastos_AsesorVentas_admin").data("kendoDropDownList").value();
            var Clave = $('#txtGasto_ClaveResponsable_admin').val();

            $.ajax({
                data: '{"VendedorGrillaRenovReins":"' + Vendedor + '","Clave":"' + Clave + '"}',
                type: "POST",
                url: "/operacionesfit/uspValidarUsuarioIngresado",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    if (msg.ValidacionUsuario > 0) {
                        GuardarEgreso_admin();
                    } else {
                        $.bootstrapGrowl("la clave del responsable no es correcta .", { type: 'primary', width: 'auto' });
                    }

                }
            });
        }

        function ListarTipoEgreso() {
            document.getElementById('loadMe').style.display = 'block';

            var controlHtml = "";
            $('#DivTipoEgreso_admin').html("");
            $.ajax({
                type: "POST",
                url: "/operacionesfit/ListarTipoEgreso",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    var Contador = 0;
                    controlHtml = '<table width="100%" border="0" style="text-align: center;Color:#000;">';
                    for (var i = 0; i < msg.length; i++) {
                        if (msg[i].Codigo != 100) {
                            Contador++;
                            if (Contador == 1) {
                                controlHtml += '<tr><td style="font-size:12px;"><div for="rbDivTipoEgreso' + msg[i].Codigo + '" style="text-transform: uppercase;font-size:14px;font-weight:bold;background-color:#bdbdbd6b;padding:2px;margin:2px;border-radius: 8px;width:98%;text-align:left;cursor:pointer;" onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')"><input onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')" id="rbDivTipoEgreso' + msg[i].Codigo + '" type="radio" name="orderBoxDivTipoEgreso[]" value="' + msg[i].Codigo + '" data-bind="checked: radioValue" />&nbsp;' + msg[i].Descripcion + '</div></td>'
                            } else if (Contador == 2) {
                                controlHtml += '<td style="font-size:12px;"><div for="rbDivTipoEgreso' + msg[i].Codigo + '" style="text-transform: uppercase;font-size:14px;font-weight:bold;background-color:#bdbdbd6b;padding:2px;margin:2px;border-radius: 8px;width: 98%;text-align:left;cursor:pointer;" onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')"><input onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')" id="rbDivTipoEgreso' + msg[i].Codigo + '" type="radio" name="orderBoxDivTipoEgreso[]" value="' + msg[i].Codigo + '" data-bind="checked: radioValue" />&nbsp;' + msg[i].Descripcion + '</div></td>'
                            } else if (Contador == 3) {
                                controlHtml += '<td style="font-size:12px;"><div for="rbDivTipoEgreso' + msg[i].Codigo + '" style="text-transform: uppercase;font-size:14px;font-weight:bold;background-color:#bdbdbd6b;padding:2px;margin:2px;border-radius: 8px;width: 98%;text-align:left;cursor:pointer;" onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')"><input onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')" id="rbDivTipoEgreso' + msg[i].Codigo + '" type="radio" name="orderBoxDivTipoEgreso[]" value="' + msg[i].Codigo + '" data-bind="checked: radioValue" />&nbsp;' + msg[i].Descripcion + '</div></td>'
                            } else if (Contador == 4) {
                                controlHtml += '<td style="font-size:12px;"><div for="rbDivTipoEgreso' + msg[i].Codigo + '" style="text-transform: uppercase;font-size:14px;font-weight:bold;background-color:#bdbdbd6b;padding:2px;margin:2px;border-radius: 8px;width: 98%;text-align:left;cursor:pointer;" onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')"><input onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')" id="rbDivTipoEgreso' + msg[i].Codigo + '" type="radio" name="orderBoxDivTipoEgreso[]" value="' + msg[i].Codigo + '" data-bind="checked: radioValue" />&nbsp;' + msg[i].Descripcion + '</div></td>'
                            } else if (Contador == 5) {
                                controlHtml += '<td style="font-size:12px;"><div for="rbDivTipoEgreso' + msg[i].Codigo + '" style="text-transform: uppercase;font-size:14px;font-weight:bold;background-color:#bdbdbd6b;padding:2px;margin:2px;border-radius: 8px;width: 98%;text-align:left;cursor:pointer;" onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')"><input onclick="SeleccionarTipoEgreso(' + msg[i].Codigo + ')" id="rbDivTipoEgreso' + msg[i].Codigo + '" type="radio" name="orderBoxDivTipoEgreso[]" value="' + msg[i].Codigo + '" data-bind="checked: radioValue" />&nbsp;' + msg[i].Descripcion + '</div></td>'
                                Contador = 0;
                            }
                        }

                    }
                    if (Contador == 1 || Contador == 2 || Contador == 3 || Contador == 4) {
                        controlHtml += '</tr>';
                    }
                    $('#DivTipoEgreso_admin').append(controlHtml + '</table>');
                }, complete: function () {
                    document.getElementById('loadMe').style.display = 'none';
                }
            });
        }

        function validadorEgresos_admin() {
            var validator = true;

            if ($('input[name = "orderBoxDivTipoEgreso[]"]').is(':checked')) {
            } else {
                $.bootstrapGrowl("falta seleccionar un tipo de gasto.", { type: 'danger', width: 'auto' });
                validator = false;
                return;
            }
            if ($('#txtDescripcionGasto_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar descripcion del gasto.", { type: 'danger', width: 'auto' });
                return;
            }

            if ($('#txtMontoGasto_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar el monto del gasto.", { type: 'danger', width: 'auto' });
                return;
            }

            if ($('#txtGasto_ClaveResponsable_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar la contrasela del responsable.", { type: 'danger', width: 'auto' });
                return;
            }

            if ($('#txtSubTotalGasto_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar el sub total del gasto.", { type: 'danger', width: 'auto' });
                return;
            }

            if ($('#txtIGVGasto_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar el IGV del gasto.", { type: 'danger', width: 'auto' });
                return;
            }

            if ($('#txtOtrosTributosGasto_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar tributos del gasto.", { type: 'danger', width: 'auto' });
                return;
            }

            if ($('#txtGasto_NroOperacion_admin').val() == '') {
                validator = false;
                $.bootstrapGrowl("falta ingresar el número de operación del gasto.", { type: 'danger', width: 'auto' });
                return;
            }

            return validator;
        }

        function SeleccionarTipoEgreso(CodigoTipoEgreso) {
            $('#hdCodigoTipoEgreso_admin').val(CodigoTipoEgreso);
            $('#rbDivTipoEgreso' + CodigoTipoEgreso).prop("checked", true);
        }

        function GuardarEgreso_admin() {

            document.getElementById('loadMe').style.display = 'block';

            var Codigo = $('#txtCodigoEgreso_admin').val() == '' ? '0' : $('#txtCodigoEgreso_admin').val();
            var Responsable = $("#ddlGastos_AsesorVentas_admin").data("kendoDropDownList").value();
            var Tipo = $('#hdCodigoTipoEgreso_admin').val();
            var Descripcion = $('#txtDescripcionGasto_admin').val();
            var MontoEgreso = $('#txtMontoGasto_admin').val();
            var TipoDocumento = $("#ddlGastos_TipoComprobante_admin").data("kendoDropDownList").value();
            var NroDocumento = $('#txtGasto_NroComprobante_admin').val();

            var txtGasto_fechaGasto = kendo.toString($("#txtGasto_fechaGasto").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var RUCProveedor = $('#txtGasto_ProvededorRZ_admin').val();
            var RZProveedor = $('#txtGasto_ProvededorRUC_admin').val();
            var SubTotal = $('#txtSubTotalGasto_admin').val();
            var Igv = $('#txtIGVGasto_admin').val();
            var OtrosTributos = $('#txtOtrosTributosGasto_admin').val();
            var CodigoMedioPago = $("#ddlGasto_FormaPago_admin").data("kendoDropDownList").value();
            var NroOperacion = $('#txtGasto_NroOperacion_admin').val();
            var Observaciones = $('#txtObservacionesGasto_admin').val();

            var accion = $('#hdAccionGatos_admin').val();

            $('button[type="button"]').attr("disabled", true);
            $.ajax({
                type: "POST",
                data: '{"Codigo":"' + Codigo +
                    '","Responsable":"' + Responsable + '","Descripcion":"' + Descripcion + '","Tipo":"' + Tipo +
                    '","TipoDocumento":"' + TipoDocumento + '","NroDocumento":"' + NroDocumento +
                    '","MontoEgreso":"' + MontoEgreso + '","accion":"' + accion +
                    '","RUCProveedor":"' + RUCProveedor +
                    '","RZProveedor":"' + RZProveedor +
                    '","SubTotal":"' + SubTotal +
                    '","Igv":"' + Igv +
                    '","OtrosTributos":"' + OtrosTributos +
                    '","CodigoMedioPago":"' + CodigoMedioPago +
                    '","NroOperacion":"' + NroOperacion +
                    '","Observaciones":"' + Observaciones +
                    '","txtGasto_fechaGasto":"' + txtGasto_fechaGasto +
                    '"}',
                url: "/operacionesfit/GuardarEgreso_admin",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $.bootstrapGrowl("Se registro satisfactoriamente.", { type: 'success', width: 'auto' });
                    document.getElementById('btnGuardarGasto_admin').style.display = '';
                    $('#txtCodigoEgreso_admin').val('0');
                    $('#txtDescripcionGasto_admin').val('');
                    $('#txtMontoGasto_admin').val('');
                    $('#txtGasto_ClaveResponsable_admin').val('');
                    $('input[name = "orderBoxDivTipoEgreso[]"]').prop('checked', false);

                    $('#txtGasto_ProvededorRZ_admin').val('');
                    $('#txtGasto_ProvededorRUC_admin').val('');
                    $('#txtSubTotalGasto_admin').val('0');
                    $('#txtIGVGasto_admin').val('0');
                    $('#txtOtrosTributosGasto_admin').val('0');
                    $('#txtGasto_NroOperacion_admin').val('0');
                    $('#txtObservacionesGasto_admin').val('');

                    $('#txtGasto_NroComprobante_admin').val('');

                    $('#hdAccionGatos_admin').val('N');
                }, complete: function () {
                    document.getElementById('loadMe').style.display = 'none';
                    $('button[type="button"]').attr("disabled", false);
                }
            });
        }

        function SEGListarPerfilMenu() {

            var entidad = {};

            document.getElementById('loadMe').style.display = 'block';
            $('button[type="button"]').attr("disabled", true);
            var metodoCorrecto = function (msg) {

                $('button[type="button"]').attr("disabled", false);
                document.getElementById('loadMe').style.display = 'none';

                for (var i = 0; i < msg.length; i++) {

                    if (msg[i].Estado) {
                        $('[data-controlmodulo="' + msg[i].CodigoMenu + '"]').show('fast');
                    }
                }

            };
            var metodoError = function (msg) {
                alert(msg);
            };
            var request = {
                //request: entidad
            };
            LlamarAJAX("/operacionesfit/SEGListarPerfilMenu_Control", request, metodoCorrecto, metodoError);

        }

        function uspReporteEgresoRangoFechas_Paginacion() {

            document.getElementById('loadMe').style.display = 'block';

            var FechaInicio = kendo.toString($("#txtHistorial_FechaDesde_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var FechaFin = kendo.toString($("#txtHistorial_FechaHasta_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var Vendedor = '';
            var Turno = 0;
            var TipoEgreso = 0;
            var TipoDocumento = 0;

            $("#gridHistorialEgresos").empty();
            $("#gridHistorialEgresos").kendoGrid({
                dataSource: {
                    type: "json",
                    transport: {
                        read: function (options) {
                            $.ajax({
                                type: "POST",
                                data: '{"FechaInicio":"' + FechaInicio + '","FechaFin":"' + FechaFin + '","Vendedor":"' + Vendedor + '","Turno":"' + Turno + '","TipoEgreso":"' + TipoEgreso + '","TipoDocumento":"' + TipoDocumento + '","PageNumber":"' + 1 + '"}',
                                url: "/gestionce/uspReporteEgresoRangoFechas_Paginacion",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (msg) {
                                    options.success(msg);
                                }, complete: function () {

                                    uspReporteEgresoRangoFechas_NumeroRegistros(FechaInicio, FechaFin, Vendedor, Turno, TipoEgreso, TipoDocumento);
                                    document.getElementById('loadMe').style.display = 'none';
                                    uspReporteEgresoCajaRangoFechas_Paginacion();
                                }
                            });
                        }
                    }
                },
                height: 250,
                columns: [{
                    field: "TipoEgresoDescripcion",
                    title: "<label style='text-align:left;color:white;'>Tipo de Egresos</ label>",
                    width: 10,
                    attributes: {
                        style: "font-size:11px;text-align:left;font-weight:bold;"
                    }
                }, {
                    field: "Descripcion",
                    title: "<center><label style='text-align:center;color:white;'>Descripcion</label></center>",
                    width: 20,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }
                }, {
                    field: "DescTipoMoneda",
                    title: "<center><label style='text-align:center;color:white;'>Tipo Doc</label></center>",
                    width: 5,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }
                }, {
                    field: "NumeroRecibo",
                    title: "<center><label style='text-align:center;color:white;'>Nro Documento</label></center>",
                    width: 5,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }
                }, {
                    field: "UsuarioCreacion",
                    title: "<center><label style='text-align:center;color:white;'>Responsable</label></center>",
                    width: 5,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }

                }, {
                    field: "FechaHora",
                    title: "<center><label style='text-align:center;color:white;'>Fecha Hora.</label></center>",
                    width: 8,
                    template: "#= kendo.toString(kendo.parseDate(FechaHora, 'yyyy-MM-dd hh:mm tt'), 'dd/MM/yyyy hh:mm tt') #",
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }

                }, {
                    field: "MontoEgreso",
                    title: "<center><label style='text-align:center;color:white;'>Monto</label></center>",
                    width: 3,
                    attributes: {
                        style: "font-size:11px;text-align:center;color:red;font-weight:bold;"
                    }
                }, {
                    template: "<center><button onclick='confirmarEliminarGasto(\"#: Codigo #\");' type='button' class='btn btn-danger btn-sm' title='Ver clientes que han reservado.' >Eliminar</button></center>",
                    title: "",
                    width: 5,
                    attributes: {
                        style: "font-size:12px;text-align:center;"
                    }
                }]

            });
        }

        function uspReporteEgresoRangoFechas_Changue() {

            document.getElementById('loadMe').style.display = 'block';

            var FechaInicio = kendo.toString($("#txtHistorial_FechaDesde_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var FechaFin = kendo.toString($("#txtHistorial_FechaHasta_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var Vendedor = '';
            var Turno = 0;
            var TipoEgreso = 0;
            var TipoDocumento = 0;
            var PageNumber = $("#ddlPaginacionEgresos").data("kendoDropDownList").value();

            $("#gridHistorialEgresos").empty();
            $("#gridHistorialEgresos").kendoGrid({
                dataSource: {
                    type: "json",
                    transport: {
                        read: function (options) {
                            $.ajax({
                                type: "POST",
                                data: '{"FechaInicio":"' + FechaInicio + '","FechaFin":"' + FechaFin + '","Vendedor":"' + Vendedor + '","Turno":"' + Turno + '","TipoEgreso":"' + TipoEgreso + '","TipoDocumento":"' + TipoDocumento + '","PageNumber":"' + PageNumber + '"}',
                                url: "/gestionce/uspReporteEgresoRangoFechas_Paginacion",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (msg) {
                                    options.success(msg);
                                }, complete: function () {
                                    document.getElementById('loadMe').style.display = 'none';
                                }
                            });
                        }
                    }
                },
                height: 250,
                columns: [{
                    field: "TipoEgresoDescripcion",
                    title: "<label style='text-align:left;color:white;'>Tipo de Egresos</ label>",
                    width: 10,
                    attributes: {
                        style: "font-size:11px;text-align:left;font-weight:bold;"
                    }
                }, {
                    field: "Descripcion",
                    title: "<center><label style='text-align:center;color:white;'>Descripcion</label></center>",
                    width: 20,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }
                }, {
                    field: "DescTipoMoneda",
                    title: "<center><label style='text-align:center;color:white;'>Tipo Doc</label></center>",
                    width: 5,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }
                }, {
                    field: "NumeroRecibo",
                    title: "<center><label style='text-align:center;color:white;'>Nro Documento</label></center>",
                    width: 5,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }
                }, {
                    field: "UsuarioCreacion",
                    title: "<center><label style='text-align:center;color:white;'>Responsable</label></center>",
                    width: 5,
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }

                }, {
                    field: "FechaHora",
                    title: "<center><label style='text-align:center;color:white;'>Fecha Hora.</label></center>",
                    width: 8,
                    template: "#= kendo.toString(kendo.parseDate(FechaHora, 'yyyy-MM-dd h:mm:ss tt'), 'dd/MM/yyyy h:mm:ss tt') #",
                    attributes: {
                        style: "font-size:11px;text-align:center;"
                    }

                }, {
                    field: "MontoEgreso",
                    title: "<center><label style='text-align:center;color:white;'>Monto</label></center>",
                    width: 3,
                    attributes: {
                        style: "font-size:11px;text-align:center;color:red;font-weight:bold;"
                    }

                }]
            });
        }

        function uspReporteEgresoRangoFechas_NumeroRegistros(FechaInicio, FechaFin, Vendedor, Turno, TipoEgreso, TipoDocumento) {

            $.ajax({
                data: '{"FechaInicio":"' + FechaInicio + '","FechaFin":"' + FechaFin + '","Vendedor":"' + Vendedor + '","Turno":"' + Turno + '","TipoEgreso":"' + TipoEgreso + '","TipoDocumento":"' + TipoDocumento + '"}',
                type: "POST",
                url: "/gestionce/uspReporteEgresoRangoFechas_NumeroRegistros",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $('#lblcantidadEgreso').html(msg.CantidadRegistros);
                    $('#lblTotalGasto').html(msg.TotalGasto.toFixed(2));
                    //$('#lblTotalIgv').html(msg.Igv);
                    //$('#lblTotalSubTotal').html(msg.SubTotal);

                    ddlListaPaginasEgresos(msg.CantidadRegistros, msg.TamanioPagina);
                }, complete: function () {

                }
            });

        }

        function ddlListaPaginasEgresos(CantidadTotalFilas, TamanioPagina) {

            var CantidadPaginas = parseInt(CantidadTotalFilas / TamanioPagina) + 1;

            var htmlOpcion = "";
            for (var i = 1; i <= CantidadPaginas; i++) {
                htmlOpcion += "<option value='" + i + "'> " + i + " </option>";
            }

            $('#ddlPaginacionEgresos').html(htmlOpcion);
            $("#ddlPaginacionEgresos").kendoDropDownList({
                change: function () {
                    uspReporteEgresoRangoFechas_Changue();
                }
            });

        }

        function confirmarEliminarGasto(Codigo) {

            $('#hdCodigoGasto_Eliminar').val(Codigo);
            document.getElementById("myModalConfirm").style.display = 'block';
        }

        function cerrarModalEliminarGasto() {
            document.getElementById("myModalConfirm").style.display = 'none';
        }

        function uspEliminarGasto() {

            document.getElementById('loadMe').style.display = 'block';
            var Codigo = $('#hdCodigoGasto_Eliminar').val();

            $('button[type="button"]').attr("disabled", true);
            $.ajax({
                type: "POST",
                data: '{"Codigo":"' + Codigo + '"}',
                url: "/operacionesfit/uspEliminarEgresos",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {

                    $.bootstrapGrowl("Se registro satisfactoriamente.", { type: 'success', width: 'auto' });
                    $('#hdCodigoGasto_Eliminar').val('0');
                    document.getElementById("myModalConfirm").style.display = 'none';

                }, complete: function () {


                    document.getElementById('loadMe').style.display = 'none';
                    $('button[type="button"]').attr("disabled", false);
                    uspReporteEgresoRangoFechas_Paginacion();
                }
            });
        }


        //LISTAR GASTOS DE CAJA

        function uspReporteEgresoCajaRangoFechas_Paginacion() {

            document.getElementById('loadMe').style.display = 'block';

            var FechaInicio = kendo.toString($("#txtHistorial_FechaDesde_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var FechaFin = kendo.toString($("#txtHistorial_FechaHasta_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var Vendedor = '';
            var Turno = 0;
            var TipoEgreso = 0;
            var TipoDocumento = 0;

            $("#gridEgresosCaja").empty();
            $("#gridEgresosCaja").kendoGrid({
                dataSource: {
                    type: "json",
                    transport: {
                        read: function (options) {
                            $.ajax({
                                type: "POST",
                                data: '{"FechaInicio":"' + FechaInicio + '","FechaFin":"' + FechaFin + '","Vendedor":"' + Vendedor + '","Turno":"' + Turno + '","TipoEgreso":"' + TipoEgreso + '","TipoDocumento":"' + TipoDocumento + '","PageNumber":"' + 1 + '"}',
                                url: "/gestionce/uspReporteEgresoRangoFechas_GastoCaja_Paginacion",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (msg) {
                                    options.success(msg);
                                }, complete: function () {
                                    uspReporteEgresoCajaRangoFechas_NumeroRegistros(FechaInicio, FechaFin, Vendedor, Turno)
                                    document.getElementById('loadMe').style.display = 'none';

                                }
                            });
                        }
                    }
                },
                height: 350,
                columns: [{
                    field: "FechaHora",
                    title: "Fecha Hora.",
                    width: 10,
                    template: "#= kendo.toString(kendo.parseDate(FechaHora, 'yyyy-MM-dd h:mm:ss tt'), 'dd/MM/yyyy h:mm:ss tt') #",
                    attributes: {

                        style: "font-size:11px;"
                    }
                }, {
                    field: "Descripcion",
                    title: "Descripcion",
                    width: 40,
                    attributes: {
                        style: "font-size:11px;"
                    }
                }, {
                    field: "MontoEgreso",
                    title: "Monto",
                    width: 3,
                    attributes: {

                        style: "font-size:11px;"
                    }
                }, {
                    field: "UsuarioCreacion",
                    title: "Responsable",
                    width: 10,
                    attributes: {
                        style: "font-size:11px;"
                    }

                }, {
                    field: "TipoEgresoDescripcion",
                    title: "Tipo de Egresos",
                    width: 10,
                    attributes: {

                        style: "font-size:11px;"
                    }

                }, {
                    template: "<center><button onclick='confirmarEliminarGasto(\"#: Codigo #\");' type='button' class='btn btn-danger btn-sm' title='Ver clientes que han reservado.' >Eliminar</button></center>",
                    title: "",
                    width: 5,
                    attributes: {
                        style: "font-size:12px;text-align:center;"
                    }
                }]

            });
        }

        function uspReporteEgresoCajaRangoFechas_Changue() {

            document.getElementById('loadMe').style.display = 'block';

            var FechaInicio = kendo.toString($("#txtHistorial_FechaDesde_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var FechaFin = kendo.toString($("#txtHistorial_FechaHasta_Tab2").data('kendoDatePicker').value(), 'MM/dd/yyyy');
            var Vendedor = '';
            var Turno = 0;
            var TipoEgreso = 0;
            var TipoDocumento = 0;
            var PageNumber = $("#ddlPaginacionEgresosCaja").data("kendoDropDownList").value();

            $("#gridEgresosCaja").empty();
            $("#gridEgresosCaja").kendoGrid({
                dataSource: {
                    type: "json",
                    transport: {
                        read: function (options) {
                            $.ajax({
                                type: "POST",
                                data: '{"FechaInicio":"' + FechaInicio + '","FechaFin":"' + FechaFin + '","Vendedor":"' + Vendedor + '","Turno":"' + Turno + '","TipoEgreso":"' + TipoEgreso + '","TipoDocumento":"' + TipoDocumento + '","PageNumber":"' + PageNumber + '"}',
                                url: "/gestionce/uspReporteEgresoRangoFechas_GastoCaja_Paginacion",
                                contentType: "application/json; charset=utf-8",
                                dataType: "json",
                                success: function (msg) {
                                    options.success(msg);
                                }, complete: function () {
                                    document.getElementById('loadMe').style.display = 'none';
                                }
                            });
                        }
                    }
                },
                height: 350,
                columns: [{
                    field: "FechaHora",
                    title: "Fecha Hora.",
                    width: 10,
                    template: "#= kendo.toString(kendo.parseDate(FechaHora, 'yyyy-MM-dd h:mm:ss tt'), 'dd/MM/yyyy h:mm:ss tt') #",
                    attributes: {

                        style: "font-size:11px;"
                    }

                }, {
                    field: "Descripcion",
                    title: "Descripcion",
                    width: 40,
                    attributes: {
                        style: "font-size:11px;"
                    }
                }, {
                    field: "MontoEgreso",
                    title: "Monto",
                    width: 3,
                    attributes: {

                        style: "font-size:11px;"
                    }
                }, {
                    field: "UsuarioCreacion",
                    title: "Responsable",
                    width: 10,
                    attributes: {
                        style: "font-size:11px;"
                    }

                }, {
                    field: "TipoEgresoDescripcion",
                    title: "Tipo de Egresos",
                    width: 10,
                    attributes: {

                        style: "font-size:11px;"
                    }

                }, {
                    template: "<center><button onclick='confirmarEliminarGasto(\"#: Codigo #\");' type='button' class='btn btn-danger btn-sm' title='Ver clientes que han reservado.' >Eliminar</button></center>",
                    title: "",
                    width: 5,
                    attributes: {
                        style: "font-size:12px;text-align:center;"
                    }
                }]


            });
        }

        function uspReporteEgresoCajaRangoFechas_NumeroRegistros(FechaInicio, FechaFin, Vendedor, Turno) {
            var TipoEgreso = 0;
            var TipoDocumento = 0;

            document.getElementById('loadMe').style.display = 'block';
            $.ajax({
                data: '{"FechaInicio":"' + FechaInicio + '","FechaFin":"' + FechaFin + '","Vendedor":"' + Vendedor + '","Turno":"' + Turno + '","TipoEgreso":"' + TipoEgreso + '","TipoDocumento":"' + TipoDocumento + '"}',
                type: "POST",
                url: "/gestionce/uspReporteEgresoRangoFechas_GastoCaja_NumeroRegistros",
                contentType: "application/json; charset=utf-8",
                dataType: "json",
                success: function (msg) {
                    $('#lblcantidadEgresoCaja').html(msg.CantidadRegistros);
                    $('#lblTotalGastoCaja').html(msg.TotalGasto.toFixed(2));

                    ddlListaPaginasEgresosCaja(msg.CantidadRegistros, msg.TamanioPagina);
                }, complete: function () {
                    document.getElementById('loadMe').style.display = 'none';

                }
            });

        }

        function ddlListaPaginasEgresosCaja(CantidadTotalFilas, TamanioPagina) {

            var CantidadPaginas = parseInt(CantidadTotalFilas / TamanioPagina) + 1;

            var htmlOpcion = "";
            for (var i = 1; i <= CantidadPaginas; i++) {
                htmlOpcion += "<option value='" + i + "'> " + i + " </option>";
            }

            $('#ddlPaginacionEgresosCaja').html(htmlOpcion);
            $("#ddlPaginacionEgresosCaja").kendoDropDownList({
                change: function () {
                    uspReporteEgresoCajaRangoFechas_Changue();
                }
            });


        }


    </script>
}